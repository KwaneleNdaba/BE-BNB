{"version":3,"sources":["../../src/services/product.service.ts"],"sourcesContent":["import {Service} from \"typedi\";\nimport { Product } from \"@/interfaces/product.interface\";\nimport { productModel } from \"@/models/product.model\";\nimport { CreateProductDto } from \"@/dtos/product.dto\";\nimport { HttpException } from \"@/exceptions/HttpException\";\nimport { CreateCategoryDto } from \"@/dtos/category.dto\";\nimport { title } from \"process\";\n\n@Service()\n\nexport class ProductService {\n\n    public async findAllProducts () : Promise<Product[]>{\n        const products : Product[] = await productModel.find();\n        return products\n    }\n\n     public async createProduct (productData : CreateCategoryDto) : Promise<Product> {\n        const existingProduct = await productModel.findOne({title : productData.title});\n        if(existingProduct){\n            throw new HttpException(409, `Product with title ${productData.title} already exist`);\n        }\n        const createdProduct = await productModel.create(productData);\n        return createdProduct;\n     }\n\n     \n\n}"],"names":["ProductService","findAllProducts","products","productModel","find","createProduct","productData","existingProduct","findOne","title","HttpException","createdProduct","create"],"mappings":";;;;+BAUaA;;;eAAAA;;;wBAVS;8BAEO;+BAEC;;;;;;;AAMvB,IAAA,AAAMA,iBAAN,MAAMA;IAET,MAAaC,kBAAuC;QAChD,MAAMC,WAAuB,MAAMC,0BAAY,CAACC,IAAI;QACpD,OAAOF;IACX;IAEC,MAAaG,cAAeC,WAA+B,EAAqB;QAC7E,MAAMC,kBAAkB,MAAMJ,0BAAY,CAACK,OAAO,CAAC;YAACC,OAAQH,YAAYG,KAAK;QAAA;QAC7E,IAAGF,iBAAgB;YACf,MAAM,IAAIG,4BAAa,CAAC,KAAK,CAAC,mBAAmB,EAAEJ,YAAYG,KAAK,CAAC,cAAc,CAAC;QACxF;QACA,MAAME,iBAAiB,MAAMR,0BAAY,CAACS,MAAM,CAACN;QACjD,OAAOK;IACV;AAIL"}